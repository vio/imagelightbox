(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const t of i)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const t={};return i.integrity&&(t.integrity=i.integrity),i.referrerPolicy&&(t.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?t.credentials="include":i.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(i){if(i.ep)return;i.ep=!0;const t=a(i);fetch(i.href,t)}})();function j(e,n,a){const o=`${n}=${a}`;let i=`?${o}`;if(e){const t=new RegExp(`([?&])${n}=[^&]*`);t.exec(e)!==null?i=e.replace(t,`$1${o}`):i=`${e}&${o}`}return i}function K(e){const n=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(document.location.search);if((n==null?void 0:n[2])!==void 0)return decodeURIComponent(n[2].replace(/\+/g," "))}function Q(e,n){let a=e;if(a){const o=new RegExp(`\\?${n}=[^&]*`),i=new RegExp(`&${n}=[^&]*`);a=a.replace(o,"?"),a=a.replace(i,"")}return a}var w=(e=>(e[e.Left=1]="Left",e[e.None=0]="None",e[e.Right=-1]="Right",e))(w||{});function U(){let e=Q(document.location.search,"imageLightboxIndex");e=Q(e,"imageLightboxSet"),window.history.pushState({},"",document.location.pathname+e)}function B(e,n,a){const o=a[e].dataset.ilb2Id??e.toString();let i=j(document.location.search,"imageLightboxIndex",o);const t={imageLightboxIndex:o,imageLightboxSet:""};n!==void 0&&(t.imageLightboxSet=n,i=j(i,"imageLightboxSet",n)),window.history.pushState(t,"",document.location.pathname+i)}function Y(e,n,a){if(K("imageLightboxSet")!==e)return;const o=K("imageLightboxIndex");if(o===void 0)return;let i=n.findIndex(t=>t.dataset.ilb2Id===o);i<0&&(i=parseInt(o,10)),a(i,!0)}function Z(e,n,a,o,i,t,l){const m=e.state;if(!m||Object.keys(m).length===0){t(!0);return}if(m.imageLightboxSet!==n)return;const f=m.imageLightboxIndex;if(f===void 0){t(!0);return}let c=a.findIndex(h=>h.dataset.ilb2Id===f);if(c<0&&(c=parseInt(f,10)),o===null){i(c,!0);return}l(c,c>o?w.Right:w.Left,!0)}const y=document.createElement("div");y.setAttribute("id","ilb-container");let P=null;function ee(e,n,a){y.classList.remove("ilb-overlay"),document.body.classList.add("ilb-body"),document.body.appendChild(y),n&&(P=o=>{o.stopPropagation(),a()},y.addEventListener("click",P),y.addEventListener("touchend",P)),y.style.transition=`opacity ${e.toString()}ms ease`,setTimeout(()=>{y.style.opacity="1"},50)}function te(){y.classList.add("ilb-overlay")}function ne(){y.style.opacity="0"}function ie(){P!==null&&(y.removeEventListener("click",P),y.removeEventListener("touchend",P)),y.remove(),y.textContent="",document.body.classList.remove("ilb-body")}function S(){return y}const H=document.createElement("div");H.setAttribute("id","ilb-activity-indicator");H.appendChild(document.createElement("div"));function V(){S().appendChild(H)}function W(){H.remove()}const I=document.createElement("div");I.classList.add("ilb-button","ilb-arrow");I.setAttribute("id","ilb-arrow-left");const k=document.createElement("div");k.classList.add("ilb-button","ilb-arrow");k.setAttribute("id","ilb-arrow-right");let O=null,C=null;function oe(e,n){O=a=>{a.stopPropagation(),e()},C=a=>{a.stopPropagation(),n()},I.addEventListener("click",O),I.addEventListener("touchend",O),k.addEventListener("click",C),k.addEventListener("touchend",C),S().append(I,k)}function ae(){I.remove(),O!==null&&(I.removeEventListener("click",O),I.removeEventListener("touchend",O)),C!==null&&(k.removeEventListener("click",C),k.removeEventListener("touchend",C)),O=null,C=null}const L=document.createElement("caption");L.setAttribute("id","ilb-caption");L.textContent="&nbsp;";L.addEventListener("click",e=>{e.stopPropagation()});function re(e,n){e!==""?(S().appendChild(L),L.style.transition=`opacity ${n.toString()}ms ease`,setTimeout(()=>{L.style.opacity="1"},1),L.textContent=e):(L.style.opacity="0",setTimeout(()=>{L.remove()},n))}const T=document.createElement("button");T.classList.add("ilb-button");T.setAttribute("id","ilb-close-button");let D=null;function le(e){D=n=>{n.stopPropagation(),e()},T.addEventListener("click",D),S().appendChild(T)}function de(){D!==null&&T.removeEventListener("click",D),T.remove()}function se(e,n,a){let o=0,i=0,t=document.createElement("img");t.setAttribute("id","ilb-image"),t.setAttribute("src",e.getAttribute("href")??"");const l=document.createElement("div");l.classList.add("ilb-image-container");let m;const f=e.dataset.ilb2VideoId;let c=e.dataset.ilb2Video!==void 0&&f!==void 0;if(c){const s=a.element(f);s!==void 0?[t,m]=s:c=!1}l.appendChild(t);function h(s,v,b,$){c||t.addEventListener("click",r=>{if(r.stopPropagation(),n.quitOnImgClick){$();return}(r.pageX-t.offsetLeft)/t.width<=1/3?v():b()}),t.addEventListener("touchstart",r=>{o=r.touches[0].pageX,t.style.transitionProperty="opacity"}),t.addEventListener("touchmove",r=>{i=r.touches[0].pageX-o,t.style.left=`${i.toString()}px`}),t.addEventListener("touchend",r=>{r.stopPropagation(),t.style.transitionProperty="left, opacity",i>50&&v(),i<-50&&b(),t.style.left="0"}),t.addEventListener("touchcancel",r=>{r.stopPropagation(),t.style.transitionProperty="left, opacity",t.style.left="0"}),s()}function F(s,v){S().appendChild(l);const b=Math.abs(100-n.gutter);t.style.maxHeight=`${b.toString()}%`,t.style.maxWidth=`${b.toString()}%`,t.style.left=`${(-100*s).toString()}px`,t.style.transition=`all ease ${n.animationSpeed.toString()}ms`,setTimeout(v,50)}function q(s,v){t.addEventListener("error",v),m===!0?s():(t.addEventListener("load",s),t.addEventListener("loadedmetadata",s))}function E(s,v,b,$){t.style.left="0",t.style.opacity="1",setTimeout(()=>{h(s,v,b,$)},n.animationSpeed)}function A(s,v){if(s!==w.None){const b=parseInt(t.style.left,10)||0;t.style.left=`${(b+100*s).toString()}px`}t.style.opacity="0",setTimeout(()=>{v()},n.animationSpeed)}function N(){l.remove()}return{addToDOM:F,removeFromDOM:N,startLoading:q,transitionIn:E,transitionOut:A}}const ce=document.fullscreenEnabled||(document.webkitFullscreenEnabled??!1);let M=null;function ue(){const e=S(),n=()=>{(e.requestFullscreen||e.webkitRequestFullScreen).call(e)},a=()=>{(document.exitFullscreen||document.webkitExitFullscreen).call(document)};!document.fullscreenElement&&!document.webkitFullscreenElement?n():a()}function G(e){e.key==="Enter"&&(e.preventDefault(),ue())}function me(e,n,a,o){e.fullscreen&&ce&&document.addEventListener("keypress",G),e.enableKeyboard&&(M=i=>{e.quitOnEscKey&&i.key==="Escape"&&(i.preventDefault(),n()),i.key==="ArrowLeft"&&(i.preventDefault(),a()),i.key==="ArrowRight"&&(i.preventDefault(),o())},document.addEventListener("keyup",M))}function fe(){document.removeEventListener("keypress",G),M!==null&&document.removeEventListener("keyup",M)}const x=document.createElement("div");x.classList.add("ilb-navigation");function z(e,n,a,o){for(let i=0;i<e.length;i++){const t=document.createElement("button");t.style.transition=`background-color ${o.toString()}ms ease`;const l=()=>{const m=n();if(t.classList.contains("ilb-navigation-active")||m===null||t.parentNode===null)return;const f=Array.prototype.indexOf.call(t.parentNode.childNodes,t),c=f<m?w.Left:w.Right;a(f,c)};t.addEventListener("click",l),t.addEventListener("touchend",l),x.appendChild(t)}}function J(e){var n,a;for(let o=0;o<x.children.length;o++)(n=x.children.item(o))==null||n.classList.remove("ilb-navigation-active");(a=x.children.item(e))==null||a.classList.add("ilb-navigation-active")}function ge(e,n,a,o){x.textContent="",z(e,n,a,o);const i=n();i!==null&&J(i),S().appendChild(x),x.addEventListener("click",t=>{t.stopPropagation()}),x.addEventListener("touchend",t=>{t.stopPropagation()})}function pe(e,n){let a=e.dataset.ilb2Id;a===void 0&&(a=`a${((1+Math.random())*65536|0).toString(16)}`),e.dataset.ilb2VideoId=a;const o=a,i=document.createElement("video");i.setAttribute("id","ilb-image"),i.preload="metadata",i.dataset.ilb2VideoId=o;let t=!1,l=!1;for(const[c,h]of Object.entries(n))switch(c){case"autoplay":l=!0;break;case"controls":case"loop":case"muted":case"poster":case"preload":case"src":i.setAttribute(c,h.toString());break}if(n.sources)for(const c of n.sources){const h=document.createElement("source");for(const[F,q]of Object.entries(c))h.setAttribute(F,q);i.appendChild(h)}i.addEventListener("loadedmetadata",()=>{t=!0});function m(){return o}function f(){return l&&(t?i.play():i.autoplay=!0),[i,t]}return{element:f,id:m}}function ve(){const e=[];function n(o){for(const i of o){const t=i.dataset.ilb2Video;t!==void 0&&e.push(pe(i,JSON.parse(t)))}}function a(o){const i=e.find(t=>t.id()===o);return i==null?void 0:i.element()}return{add:n,element:a}}function ye(e,n,a){const o=[],i=ve();let t=null,l=null;function m(){return n}function f(){return o}function c(r,d){if(l===null)return;const u=l;u.transitionOut(r,()=>{u.removeFromDOM(),d==null||d()})}function h(){l==null||l.transitionIn(W,N,s,E)}function F(r){l==null||l.addToDOM(r,()=>{var u;if(t===null)return;const d=o[t];if(e.caption&&re(d.dataset.ilb2Caption??((u=d.getElementsByTagName("img").item(0))==null?void 0:u.alt)??"",e.animationSpeed),h(),e.preloadNext&&t+1<o.length){const R=o[t+1];document.createElement("img").setAttribute("src",R.getAttribute("href")??"")}S().dispatchEvent(new Event("ilb:loaded",{bubbles:!0}))})}function q(r,d){const u=se(o[r],e,i);t=r,l=u,u.startLoading(()=>{F(d)},()=>{W()})}function E(r=!1){t!==null&&(e.activity&&V(),fe(),e.history&&!r&&U(),S().dispatchEvent(new Event("ilb:quit",{bubbles:!0})),ne(),c(w.None,()=>{t=null,l=null,ae(),de(),ie()}))}function A(r,d,u=!1){t!==null&&(e.history&&!u&&B(r,m(),f()),e.activity&&V(),J(r),c(d),q(r,d))}function N(){if(t===null)return;let r=t-1;if(t===0){if(e.quitOnEnd){E();return}r=o.length-1}o[r].dispatchEvent(new Event("ilb:previous",{bubbles:!0})),A(r,w.Left)}function s(){if(t===null)return;let r=t+1;if(t===o.length-1){if(e.quitOnEnd){E();return}r=0}o[r].dispatchEvent(new Event("ilb:next",{bubbles:!0})),A(r,w.Right)}function v(r,d=!1){t===null&&(ee(e.animationSpeed,e.quitOnDocClick,E),e.activity&&V(),me(e,E,N,s),e.arrows&&oe(N,s),e.button&&le(E),e.navigation&&ge(f(),()=>t,A,e.animationSpeed),e.overlay&&te(),e.history&&!d&&B(r,m(),f()),o[r].dispatchEvent(new Event("ilb:start",{bubbles:!0})),q(r,w.None))}function b(r){const d=o.indexOf(r);d<0||v(d)}function $(r){const d=r.filter(u=>!o.includes(u)).filter(u=>u.tagName.toLowerCase()==="a"&&(new RegExp(`.(${e.allowedTypes})$`,"i").test(u.href)||u.dataset.ilb2Video!==void 0));i.add(d),o.push(...d);for(const u of d)u.addEventListener("click",R=>{R.preventDefault(),R.stopPropagation(),b(u)});z(d,()=>t,A,e.animationSpeed)}return $(a),e.history&&window.addEventListener("popstate",r=>{Z(r,m(),f(),t,v,E,A)}),{addImages:$,close:E,images:f,next:s,open:v,openWithImage:b,previous:N,set:m}}class g{constructor(n,a){const o={activity:!1,allowedTypes:"png|jpg|jpeg|gif",animationSpeed:250,arrows:!1,button:!1,caption:!1,enableKeyboard:!0,fullscreen:!1,gutter:10,history:!1,navigation:!1,overlay:!1,preloadNext:!0,quitOnDocClick:!0,quitOnEnd:!1,quitOnEscKey:!0,quitOnImgClick:!1,...a};this.s=ye(o,n.length>0?n[0].dataset.imagelightbox??"":"",Array.from(n)),o.history&&this.openHistory()}addImages(n){this.s.addImages(Array.from(n))}close(){this.s.close()}next(){this.s.next()}open(n){n!==void 0?this.s.openWithImage(n):this.s.open(0)}openHistory(){Y(this.s.set(),this.s.images(),(n,a)=>{this.s.open(n,a)})}previous(){this.s.previous()}}const p=typeof TEST<"u"?TEST:!1;new g(document.querySelectorAll('a[data-imagelightbox="a"]'),{activity:!0});new g(document.querySelectorAll('a[data-imagelightbox="allowedtypes"]'),{allowedTypes:"gif",...p&&{animationSpeed:0}});new g(document.querySelectorAll('a[data-imagelightbox="b"]'),{overlay:!0,...p&&{animationSpeed:0}});new g(document.querySelectorAll('a[data-imagelightbox="c"]'),{button:!0,quitOnDocClick:!1,...p&&{animationSpeed:0}});new g(document.querySelectorAll('a[data-imagelightbox="d"]'),{caption:!0,...p&&{animationSpeed:0}});new g(document.querySelectorAll('a[data-imagelightbox="e"]'),{navigation:!0,...p&&{animationSpeed:0}});new g(document.querySelectorAll('a[data-imagelightbox="f"]'),{arrows:!0,...p&&{animationSpeed:0}});new g(document.querySelectorAll('a[data-imagelightbox="quit"]'),{quitOnEnd:!0,quitOnImgClick:!0,...p&&{animationSpeed:0}});new g(document.querySelectorAll('a[data-imagelightbox="fullscreen"]'),{fullscreen:!0,...p&&{animationSpeed:0}});new g(document.querySelectorAll('a[data-imagelightbox="g"]'),{activity:!0,arrows:!0,button:!0,caption:!0,navigation:!0,overlay:!0,quitOnDocClick:!1,...p&&{animationSpeed:0}});const be=new g(document.querySelectorAll('a[data-imagelightbox="h"]'),{arrows:!0,...p&&{animationSpeed:0}});var X;(X=document.getElementsByClassName("trigger_lightbox").item(0))==null||X.addEventListener("click",()=>{be.open()});const he=new g(document.querySelectorAll('a[data-imagelightbox="i"]'),{arrows:!0,...p&&{animationSpeed:0}});var _;(_=document.getElementsByClassName("add_image").item(0))==null||_.addEventListener("click",()=>{const e=document.getElementsByClassName("demo_dynamic").item(0),n=document.createElement("li");e==null||e.appendChild(n);const a=document.createElement("a");a.dataset.imagelightbox="i",a.href="images/demo4.jpg",n.appendChild(a);const o=document.createElement("img");o.src="images/thumb4.jpg",a.appendChild(o),he.addImages(document.querySelectorAll('a[data-imagelightbox="i"]'))});new g(document.querySelectorAll('a[data-imagelightbox="j"]'),{arrows:!0,history:!0,...p&&{animationSpeed:0}});new g(document.querySelectorAll('a[data-imagelightbox="k"]'),{arrows:!0,history:!0,...p&&{animationSpeed:0}});new g(document.querySelectorAll('a[data-imagelightbox="video"]'),{activity:!0,arrows:!0,overlay:!0,...p&&{animationSpeed:0}});new g(document.querySelectorAll('a[data-imagelightbox="events"]'),{...p&&{animationSpeed:0}});document.addEventListener("ilb:start",e=>{console.log("ilb:start"),console.log(e.target)});document.addEventListener("ilb:quit",()=>{console.log("ilb:quit")});document.addEventListener("ilb:loaded",()=>{console.log("ilb:loaded")});document.addEventListener("ilb:previous",e=>{console.log("ilb:previous"),console.log(e.target)});document.addEventListener("ilb:next",e=>{console.log("ilb:next"),console.log(e.target)});
//# sourceMappingURL=index-BbD3Pfmb.js.map
